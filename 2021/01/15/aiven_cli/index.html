<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>First Steps within Aiven... the CLI! | Data and Open Source</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Hi, I&rsquo;m Francesco and recently joined Aiven.io as Developer Advocate!
In this first blog post, we&rsquo;ll have a look at how to install and login to Aiven&rsquo;s resources using the command line client.
If you&rsquo;re new to Aiven or if you already know the platform but want to automate some tasks, the client allows you to perform the same tasks available on Aiven&rsquo;s web console but from your preferred terminal.">
    <meta name="generator" content="Hugo 0.140.2">
    
    
    
      <meta name="robots" content="index, follow">
    
    <meta name="author" content="ftisiot">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css" >




    


    
      

    

    

    
      <link rel="canonical" href="https://ftisiot.net/2021/01/15/aiven_cli/">
    

    <meta property="og:url" content="https://ftisiot.net/2021/01/15/aiven_cli/">
  <meta property="og:site_name" content="Data and Open Source">
  <meta property="og:title" content="First Steps within Aiven... the CLI!">
  <meta property="og:description" content="Hi, I’m Francesco and recently joined Aiven.io as Developer Advocate!
In this first blog post, we’ll have a look at how to install and login to Aiven’s resources using the command line client.
If you’re new to Aiven or if you already know the platform but want to automate some tasks, the client allows you to perform the same tasks available on Aiven’s web console but from your preferred terminal.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-01-06T15:30:00+00:00">
    <meta property="article:modified_time" content="2021-01-06T15:30:00+00:00">

  <meta itemprop="name" content="First Steps within Aiven... the CLI!">
  <meta itemprop="description" content="Hi, I’m Francesco and recently joined Aiven.io as Developer Advocate!
In this first blog post, we’ll have a look at how to install and login to Aiven’s resources using the command line client.
If you’re new to Aiven or if you already know the platform but want to automate some tasks, the client allows you to perform the same tasks available on Aiven’s web console but from your preferred terminal.">
  <meta itemprop="datePublished" content="2021-01-06T15:30:00+00:00">
  <meta itemprop="dateModified" content="2021-01-06T15:30:00+00:00">
  <meta itemprop="wordCount" content="554">
  <meta itemprop="keywords" content="Work">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="First Steps within Aiven... the CLI!">
  <meta name="twitter:description" content="Hi, I’m Francesco and recently joined Aiven.io as Developer Advocate!
In this first blog post, we’ll have a look at how to install and login to Aiven’s resources using the command line client.
If you’re new to Aiven or if you already know the platform but want to automate some tasks, the client allows you to perform the same tasks available on Aiven’s web console but from your preferred terminal.">

      
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-7Z74BTZ0TM"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-7Z74BTZ0TM');
        }
      </script>
    
	
  </head><body class="ma0 avenir bg-near-white production">

    
   
  

  
  
  
  <header class="cover bg-center" style="background-image: url('https://ftisiot.net/images/aiven_small.jpeg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Data and Open Source
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/who" title="about page">
              about
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/suggestions-verona" title="suggestions page">
              suggestions
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/postgresqljson/main" title="json-pg page">
              json-pg
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/mysqljson/main" title="json-mysql page">
              json-mysql
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">First Steps within Aiven... the CLI!</div>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  
  <article class="flex-l mw8 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">First Steps within Aiven... the CLI!</h1>
      
      <p class="tracked"><strong>ftisiot</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2021-01-06T15:30:00Z">January 6, 2021</time>
      

      
      
        <span class="f6 mv4 dib tracked"> - 3 minutes read </span>
        <span class="f6 mv4 dib tracked"> - 554 words </span>
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Hi, I&rsquo;m Francesco and recently joined Aiven.io as Developer Advocate!</p>
<p>In this first blog post, we&rsquo;ll have a look at how to install and login to Aiven&rsquo;s resources using the command line client.</p>
<p>If you&rsquo;re new to Aiven or if you already know the platform but want to automate some tasks, the client allows you to perform the same tasks available on <a href="https://console.aiven.io/">Aiven&rsquo;s web console</a> but from your preferred terminal.</p>
<h2 id="install-the-aiven-client">Install the Aiven client</h2>
<p>The first step is very simple, installing Aiven&rsquo;s cli!
It can be done (as per <a href="https://github.com/aiven/aiven-client">documentation</a>) with</p>
<pre tabindex="0"><code>python3 -m pip install aiven-client
</code></pre><p><strong>Note</strong>: you need to be on Python 3.6 or later to successfully work with <code>aiven-client</code></p>
<p>If the installation was performed correctly, you should now be able to call <code>avn</code> commands from your terminal. To obtain an overview of commands and options you can simply execute <code>avn -h</code></p>
<pre tabindex="0"><code>FT:Client ft$ avn -h
usage: avn [-h] [--config CONFIG] [--version] [--auth-ca FILE] [--auth-token AUTH_TOKEN] [--show-http] [--url URL]  ...

optional arguments:
  -h, --help            show this help message and exit
  --config CONFIG       config file location &#39;/Users/francescotisiot/.config/aiven/aiven-client.json&#39;
  --version             show program&#39;s version number and exit
  --auth-ca FILE        CA certificate to use [AIVEN_CA_CERT], default None
  --auth-token AUTH_TOKEN
                        Client auth token to use [AIVEN_AUTH_TOKEN], [AIVEN_CREDENTIALS_FILE]
  --show-http           Show HTTP requests and responses
  --url URL             Server base url default &#39;https://api.aiven.io&#39;

command categories:

    account             Account commands
    billing-group       Billing-Group commands
    card                Card commands
    cloud               Cloud commands
    credits             Credits commands
    events              View project event logs
    help                List commands
    mirrormaker         Mirrormaker commands
    project             Project commands
    service             Service commands
    ticket              Ticket commands
    user                User commands
    vpc                 Vpc commands
</code></pre><h2 id="autocomplete">Autocomplete</h2>
<p>Autocomplete allows you to get suggestion for any command in the <code>avn</code> suite just by pressing <code>TAB</code>. Installing it just requires you to add the <code>argcomplete</code> dependency with</p>
<pre tabindex="0"><code>python3 -m pip install argcomplete
</code></pre><p>Then add the following line to your <code>~/.bash_profile</code> file</p>
<pre tabindex="0"><code>eval &#34;$(register-python-argcomplete avn)&#34;
</code></pre><p>All set! Now just press <code>TAB</code> to get autocomplete suggestions when writing any <code>avn</code> command.</p>
<p><img src="/images/2021/01/avn_autocomplete_cmd_t1.gif" alt="autocomplete"></p>
<h2 id="login">Login</h2>
<p>With <code>aiven-client</code> and autocomplete installed, you can start playing with the <code>avn</code> command in the shell.
The first task to perform is the login: you can easily achieve it with the following command, replacing <code>&lt;USERNAME&gt;</code> with the email registered on Aiven&rsquo;s website.</p>
<pre tabindex="0"><code>avn user login &lt;USERNAME&gt;
</code></pre><p>You&rsquo;ll be now prompted for the password. In case of a successful login, you should receive a message like the below telling you that a new Access Token has been created and stored under <code>~/.config/aiven/aiven-credentials.json</code>.</p>
<pre tabindex="0"><code>FT:Client ft$ avn user login ftisiot@aiven.io
ftisiot@aiven.io&#39;s Aiven password:
INFO	Aiven credentials written to: ~/.config/aiven/aiven-credentials.json
</code></pre><p>The token will also be visible from <a href="https://console.aiven.io/profile/auth">Aiven&rsquo;s Profile Authentication page</a></p>
<p><img src="/images/2021/01/Authentication_token.jpg" alt="auth_token"></p>
<p>If, on the other side, your login is invalid you&rsquo;ll see the below error message</p>
<pre tabindex="0"><code>ERROR	command failed: Error: {&#34;errors&#34;:[{&#34;message&#34;:&#34;Authentication failed&#34;,&#34;status&#34;:403}],&#34;message&#34;:&#34;Authentication failed&#34;}
</code></pre><h2 id="enable-aiven-cli-login-when-using-sign-in-with-google">Enable <code>aiven-cli</code> Login when using &ldquo;Sign in with Google&rdquo;</h2>
<p>Please note that if you are using Google OAuth Single Sign-On (&ldquo;Sign in with Google&rdquo; in <a href="https://console.aiven.io">Aiven&rsquo;s console</a>), trying to login with the same credentials via the <code>aiven-cli</code> will result in a failure with an <code>Authentication failed</code> message.</p>
<p>The <strong>Aiven Password</strong> login method used by <code>aiven-cli</code> needs to be enabled in <a href="https://console.aiven.io/profile/auth">Aiven&rsquo;s Profile Authentication page</a></p>
<p><img src="/images/2021/01/login_methods_enabled.jpg" alt="login methods"></p>
<p>Once enabled you&rsquo;ll be able to login with your account email and the defined Aiven&rsquo;s password from <code>aiven-cli</code>!</p>
<p>That&rsquo;s it, you&rsquo;re in! You can now create services, teams, profiles and even tickets! Follow this space for more!
Happy browsing Aiven&rsquo;s services!</p><ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/2021/01/04/looking_forward/">Looking Forward</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2020/11/26/looking_back/">Looking Back</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="https://ftisiot.net/" >
    &copy;  Data and Open Source 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
